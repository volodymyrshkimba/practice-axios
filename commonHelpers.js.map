{"version":3,"file":"commonHelpers.js","sources":["../src/services/api.js","../src/requests/products.js","../src/services/markupService.js","../src/index.js"],"sourcesContent":["import axios from 'axios';\nconst apiInstance = axios.create({\n  baseURL: 'https://dummyjson.com',\n});\n\nexport default apiInstance;\n","import apiInstance from '../services/api';\n\nexport const getAllProducts = async () => {\n  try {\n    const response = await apiInstance.get('/products');\n    return response.data.products;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const getProductById = async id => {\n  try {\n    const response = await apiInstance.get(`/products/${id}`);\n    return response.data;\n  } catch (error) {\n    console.log(error);\n  }\n};\nexport const createNewProduct = async newProduct => {\n  try {\n    const response = await apiInstance.post(`/products/add`, newProduct);\n    return response;\n\n  } catch (error) {\n\n  }\n\n}\n","export const createMarkupAll = arr => {\n  return arr\n    .map(({ title, thumbnail, price, description }) => {\n      return `<li>\n        <img src=\"${thumbnail}\" alt=\"\" />\n        <h3>Title:${title}</h3>\n        <p>Description:${description}</p>\n        <p>Price:${price}</p>\n      </li>`;\n    })\n    .join('');\n};\n\nexport const createMarkupSingleProduct = ({\n  title,\n  thumbnail,\n  price,\n  description,\n}) => {\n  return `<div>\n        <img src=\"${thumbnail}\" alt=\"\" />\n        <h3>Title:${title}</h3>\n        <p>Description:${description}</p>\n        <p>Price:${price}</p>\n      </div>`;\n};\nexport const createMarkupProduct = ({ title, description, price }) => `<div>\n        <h3>Title:${title}</h3>\n        <p>Description:${description}</p>\n        <p>Price:${price}</p>\n      </div>`;\n\n","import './styles/normalize.css';\nimport './styles/index.css';\nimport { getAllProducts, getProductById, createNewProduct } from './requests/products';\nimport {\n  createMarkupAll,\n  createMarkupSingleProduct, createMarkupProduct\n} from './services/markupService';\n\nconst allProductsEl = document.querySelector('#allProducts');\n\nconst renderAllProducts = async () => {\n  try {\n    const products = await getAllProducts();\n\n    const productsMarkup = createMarkupAll(products);\n\n    allProductsEl.innerHTML = productsMarkup;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\n// renderAllProducts();\n\nconst singleProductForm = document.querySelector('#singleProductForm');\nconst singleProduct = document.querySelector('#singleProduct');\nsingleProductForm.addEventListener('submit', async event => {\n  event.preventDefault();\n  const id = event.currentTarget.elements.id.value.trim();\n  try {\n    const product = await getProductById(id);\n    const productsMarkup = createMarkupSingleProduct(product);\n\n    singleProduct.innerHTML = productsMarkup;\n  } catch (error) {\n    console.log(error);\n  }\n});\n\n\nconst productForm = document.querySelector(`.product-form`);\nconst newProductSection = document.querySelector(`#newProductSection`);\n\nconst addNewproduct = async event => {\n  event.preventDefault();\n  const title = event.target.elements.title.value.trim();\n  const description = event.target.elements.description.value.trim();\n  const price = event.target.elements.price.value.trim();\n  if (title === '' || description === '' || price === '') {\n    alert(`Заповніть всі поля!`);\n    return\n  }\n  const newProduct = { title, description, price };\n  const response = await createNewProduct(newProduct);\n  console.log(response);\n  if (response.status === 201) {\n    newProductSection.innerHTML = createMarkupProduct(newProduct);\n  }\n  else {\n    alert(`${response.statusText}`)\n\n  }\n\n\n\n}\n\nproductForm.addEventListener(`submit`, addNewproduct)\n"],"names":["apiInstance","axios","getProductById","id","error","createNewProduct","newProduct","createMarkupSingleProduct","title","thumbnail","price","description","createMarkupProduct","singleProductForm","singleProduct","event","product","productsMarkup","productForm","newProductSection","addNewproduct","response"],"mappings":"svBACA,MAAMA,EAAcC,EAAM,OAAO,CAC/B,QAAS,uBACX,CAAC,ECQYC,EAAiB,MAAMC,GAAM,CACxC,GAAI,CAEF,OADiB,MAAMH,EAAY,IAAI,aAAaG,GAAI,GACxC,IACjB,OAAQC,EAAP,CACA,QAAQ,IAAIA,CAAK,CAClB,CACH,EACaC,EAAmB,MAAMC,GAAc,CAClD,GAAI,CAEF,OADiB,MAAMN,EAAY,KAAK,gBAAiBM,CAAU,CAGpE,MAAC,CAED,CAEH,ECfaC,EAA4B,CAAC,CACxC,MAAAC,EACA,UAAAC,EACA,MAAAC,EACA,YAAAC,CACF,IACS;AAAA,oBACWF;AAAA,oBACAD;AAAA,yBACKG;AAAA,mBACND;AAAA,cAGNE,EAAsB,CAAC,CAAE,MAAAJ,EAAO,YAAAG,EAAa,MAAAD,CAAO,IAAK;AAAA,oBAClDF;AAAA,yBACKG;AAAA,mBACND;AAAA,cCrBG,SAAS,cAAc,cAAc,EAgB3D,MAAMG,EAAoB,SAAS,cAAc,oBAAoB,EAC/DC,EAAgB,SAAS,cAAc,gBAAgB,EAC7DD,EAAkB,iBAAiB,SAAU,MAAME,GAAS,CAC1DA,EAAM,eAAc,EACpB,MAAMZ,EAAKY,EAAM,cAAc,SAAS,GAAG,MAAM,OACjD,GAAI,CACF,MAAMC,EAAU,MAAMd,EAAeC,CAAE,EACjCc,EAAiBV,EAA0BS,CAAO,EAExDF,EAAc,UAAYG,CAC3B,OAAQb,EAAP,CACA,QAAQ,IAAIA,CAAK,CAClB,CACH,CAAC,EAGD,MAAMc,EAAc,SAAS,cAAc,eAAe,EACpDC,EAAoB,SAAS,cAAc,oBAAoB,EAE/DC,EAAgB,MAAML,GAAS,CACnCA,EAAM,eAAc,EACpB,MAAMP,EAAQO,EAAM,OAAO,SAAS,MAAM,MAAM,OAC1CJ,EAAcI,EAAM,OAAO,SAAS,YAAY,MAAM,OACtDL,EAAQK,EAAM,OAAO,SAAS,MAAM,MAAM,OAChD,GAAIP,IAAU,IAAMG,IAAgB,IAAMD,IAAU,GAAI,CACtD,MAAM,qBAAqB,EAC3B,MACD,CACD,MAAMJ,EAAa,CAAE,MAAAE,EAAO,YAAAG,EAAa,MAAAD,CAAK,EACxCW,EAAW,MAAMhB,EAAiBC,CAAU,EAClD,QAAQ,IAAIe,CAAQ,EAChBA,EAAS,SAAW,IACtBF,EAAkB,UAAYP,EAAoBN,CAAU,EAG5D,MAAM,GAAGe,EAAS,YAAY,CAMlC,EAEAH,EAAY,iBAAiB,SAAUE,CAAa"}